/// testing

//gcc test.c -otest -lm -std=gnu99 

#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include <math.h>
#include <time.h>
#include <malloc.h>

// 1/64=0.015 xx>>7

const float floaty[256]={0.0,0.015625, 0.0161451437284, 0.0166826026246, 0.0172379530968, 0.0178117907411, 0.0184047309808, 0.0190174097258, 0.0196504840553, 0.0203046329219, 0.02098055788, 0.0216789838384, 0.0224006598371, 0.0231463598515, 0.0239168836218, 0.0247130575109, 0.0255357353908, 0.026385799558, 0.0272641616801, 0.0281717637733, 0.0291095792129, 0.0300786137769, 0.0310799067249, 0.0321145319128, 0.0331835989441, 0.0342882543601, 0.0354296828696, 0.0366091086195, 0.0378277965074, 0.0390870535385, 0.040388230227, 0.0417327220447, 0.0431219709176, 0.0445574667721, 0.0460407491333, 0.0475734087755, 0.049157089429, 0.0507934895423, 0.052484364104, 0.0542315265248, 0.0560368505825, 0.0579022724313, 0.0598297926785, 0.06182147853, 0.0638794660074, 0.0660059622387, 0.0682032478254, 0.0704736792884, 0.0728196915954, 0.0752438007719, 0.0777486066003, 0.0803367954075, 0.0830111429458, 0.0857745173706, 0.0886298823154, 0.0915803000709, 0.0946289348692, 0.0977790562767, 0.101034042701, 0.104397385016, 0.1078726903, 0.111463685713, 0.115174222485, 0.119008280052, 0.122969970324, 0.12706354209, 0.131293385579, 0.135664037168, 0.140180184246, 0.144846670241, 0.149668499816, 0.154650844232, 0.159799046902, 0.165118629113, 0.170615295952, 0.176294942426, 0.182163659779, 0.18822774203, 0.194493692719, 0.200968231885, 0.207658303272, 0.214571081773, 0.221713981131, 0.229094661885, 0.236721039586, 0.244601293289, 0.252743874322, 0.261157515353, 0.269851239751, 0.278834371268, 0.288116544034, 0.297707712892, 0.307618164075, 0.317858526237, 0.328439781848, 0.339373278979, 0.350670743467, 0.362344291495, 0.374406442581, 0.386870133011, 0.399748729707, 0.413056044566, 0.426806349272, 0.441014390603, 0.455695406244, 0.47086514113, 0.486539864333, 0.502736386511, 0.519472077932, 0.536764887109, 0.554633360046, 0.573096660126, 0.592174588671, 0.611887606167, 0.632256854219, 0.653304178214, 0.675052150758, 0.69752409588, 0.720744114046, 0.744737108009, 0.769528809513, 0.795145806893, 0.821615573586, 0.848966497599, 0.877227911955, 0.906430126146, 0.936604458646, 0.967783270493, 1.0, 1.03328919861, 1.06768656797, 1.10322899819, 1.13995460743, 1.17790278277, 1.21711422245, 1.25763097954, 1.299496507, 1.34275570432, 1.38745496565, 1.43364222958, 1.4813670305, 1.5306805518, 1.5816356807, 1.63428706501, 1.68869117171, 1.74490634753, 1.80299288149, 1.86301306962, 1.92503128172, 1.9891140304, 2.05533004242, 2.12375033242, 2.19444827905, 2.26749970366, 2.34298295165, 2.42097897648, 2.50157142647, 2.58484673453, 2.67089421086, 2.75980613873, 2.85167787342, 2.94660794453, 3.04469816163, 3.14605372346, 3.25078333071, 3.35899930266, 3.47081769759, 3.58635843728, 3.7057454356, 3.82910673142, 3.95657462592, 4.08828582447, 4.22438158328, 4.36500786083, 4.51031547446, 4.6604602621, 4.8156032494, 4.97591082242, 5.14155490608, 5.31271314853, 5.48956911172, 5.67231246818, 5.86113920454, 6.05625183163, 6.25785960171, 6.46617873289, 6.68143264101, 6.90385217922, 7.13367588562, 7.37115023903, 7.61652992336, 7.87007810073, 8.13206669373, 8.40277667705, 8.68249837876, 8.97153179176, 9.27018689545, 9.57878398821, 9.89765403088, 10.2271390017, 10.5675922632, 10.9193789409, 11.2828763153, 11.6584742259, 12.0465754899, 12.447596334, 12.8619668406, 13.2901314094, 13.7325492335, 14.1896947924, 14.6620583606, 15.1501465335, 15.6544827705, 16.1756079566, 16.7140809826, 17.2704793441, 17.8453997611, 18.4394588181, 19.0532936251, 19.6875625008, 20.3429456792, 21.0201460383, 21.7198898546, 22.4429275819, 23.1900346557, 23.9620123252, 24.7596885127, 25.5839187012, 26.4355868522, 27.3156063534, 28.2249209986, 29.1645059996, 30.1353690323, 31.1385513173, 32.1751287367, 33.2462129877, 34.352952775, 35.4965350429, 36.6781862481, 37.8991736749, 39.1608067947, 40.46443867, 41.8114674057, 43.2033376485, 44.6415421363, 46.127623299, 47.6631749126, 49.2498438088, 50.8893316411, 52.5833967095, 54.3338558464, 56.1425863651, 58.0115280734, 59.9426853533, 61.9381293115, 64.0};

const unsigned char shifter[256]={7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

const unsigned char sclerxxx[256]={1, 1, 1, 1, 1, 1, 1, 1,2,2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 10, 10, 10, 10, 11, 11, 11, 11, 12, 12, 12, 12, 13, 13, 13, 14, 14, 14, 15, 15, 15, 16, 16, 16, 17, 17, 18, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 28, 28, 29, 30, 30, 31, 32, 32, 33, 34, 35, 35, 36, 37, 38, 39, 40, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 51, 52, 53, 54, 55, 56, 58, 59, 60, 62, 63, 65, 66, 68, 69, 71, 72, 74, 75, 77, 79, 81, 82, 84, 86, 88, 90, 92, 94, 96, 99, 101, 103, 105, 108, 110, 113, 115, 118, 120, 123, 126, 129, 131, 134, 137, 140, 144, 147, 150, 154, 157, 160, 164, 168, 172, 175, 179, 183, 187, 192, 196, 200, 205, 209, 214, 219, 224, 229 };

void main(void){
  int x,y,z,min=0,max=255,mmm=1;

  //  int ppp=(((1>>0)+1)*255)>>2;
  //  printf("ppp %d",ppp);

    for (x=1;x<256;x++){

      // min or max is random... ignore scale x and we want to get fine grain for low scales...
      // so is kind of exp
      // other than float best is >> 7 -> 0 * scale=1 and without >>2 (could be third const array up to say >>4)
      // see latest gamma.c for expanded arrays

      // >>7 and multiply exponentially by scale, >>6 and mult>>>
      // but how to do as continuos???
      // all 0 at begin for fast as possible
      // then dividers *1 then scale as above
      // above *128 no need to divide

      // >>7 * xxx as below translated into lookups ????

      // random * (randomscale%speed_greaterthan0) =       int pulsefresco=(((min>>shifter[max])+1)*(sclerxxx[max]%x));


      /* solutions:
      1- piece by piece if value betwen x and y
      2- look at scale /64 and approximate
      3- below
      */


      //                  min=rand()%256;
      min=128; 
      //            max=rand()%256;
      //      int pulsefresco=(((min>>shifter[x])+1)*sclerxxx[x]);
      //      int pulsefresco=(min>>(7-(x>>5)))*(x>>2);// very close !!!! // last x exponential up
      //      int pulsefrescoM=(max>>(7-(x>>5)))*(x>>2);
      //      int pulsefrescoM=(((max>>shifter[x])+1)*sclerxxx[x]);
      //      int pulsefrescoM=(((max>>shifter[x])+1)*sclerxxx[x]);

      int pulsefresco=(float)min*floaty[x];
      int pulsefrescoM=(float)max*floaty[x];


      printf("min: %d max %d xx %d\n",pulsefresco,pulsefrescoM,(7-(x>>5)));
      //      printf("min: %d\n",pulsefresco);
 
  }


}
